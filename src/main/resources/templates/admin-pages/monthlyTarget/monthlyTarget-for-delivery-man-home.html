<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/main}">
<head>
<meta charset="UTF-8">
<title>Home</title>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
 <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" />        
 <link href="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.1/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet">  
</head>
<body>
<div layout:fragment="content">
<div class="row">
        <div class="col-md-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Monthly Target for Delivery Executive</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
             <div class="col-md-12">
              <div class="box-body">
               
                <div class="row">
                                                   
                <div class="col-sm-8">
               <div class="form-group"  id="date">
                  <label for="amount" class="col-sm-4 control-label">Target Month</label>

                  <div class="col-sm-8">
                    <input type="month" class="form-control" id="target_month" placeholder="Target Month"/>
                  </div>
                </div>
              </div>
             <div class="col-md-3">
            <a onclick="submitOrderTarget();" href="#" style="margin-left: 0%;" class="btn btn-fill btn-info" ><i class="fa fa-plus-square" aria-hidden="true"></i>Submit</a>
            </div>
                </div>
               
              </div>
            
          </div>
          
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>

</div>
<div class="row">

        <div class="col-md-12">
          <div class="box">
            <div class="box-header">
             <div class="col-md-12">
            <a id="targetDECreate" th:href="@{/admin/order-delivery-monthly-target}" style="margin-left: 0%;" class="btn btn-fill btn-info" ><i class="fa fa-plus-square" aria-hidden="true"></i>Setup Target</a>
            </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body"> 
           
             <table id="empTable" class="display" width="100%" cellspacing="0">

                <thead style="color: #111;">
                    <tr>
                        <th>Employee Id</th>
                        <th>Employee Name</th>                       
                        <th>Target Order Quantity</th>
                        <th>Target Order Value</th>
                        <th>Target Month</th>
                         <th>#</th>
                    </tr>
                </thead>

            </table> 
            <div class="row">
       
        </div>
           </div>
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>

</div>
<!-- </div> -->
<div layout:fragment="custom-scripts">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.1/bootstrap3-editable/js/bootstrap-editable.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script th:src="@{/js/monthlyTarget.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
var baseurl=/*[[${baseurl}]]*/;
$(document).ready(function() {
    setBaseUrl(baseurl);
    
});
$(document).ready(function() {   
    var table = $('#empTable').dataTable({
        "deferRender" : true,
        "sAjaxSource" : baseurl+'/api/monthly-deliveryman-order-target',
        "sAjaxDataProp" : "",
        "columns" : [
             {
                 data : 'empId'
                },           
                {
                 data : 'empName'
                },                
               {
                 data : 'orderQuantity'
                },
               {
                 data : 'orderValue'
                },
               {
                 data : 'targetMonth'
                },                             
                {
                    data: 'id',
                    
                    "fnCreatedCell": function (nTd, sData, oData, iRow, iCol) {
                    $(nTd).html("<a style='margin-right: 3px;padding: 3px 7px;' class='btn btn-danger' onclick='deleteEntryMonthlyOrderTarget("+oData.id+");' href='#'><i class='fa fa-trash'></i></a>");
               
                    } 
                } 
            
        
            ]
        });
        

    });


/*]]>*/
</script>

</div>
</body>
</html>