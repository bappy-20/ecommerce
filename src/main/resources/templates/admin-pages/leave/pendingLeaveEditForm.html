<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/main}">
<head>
<meta charset="UTF-8">
<title>Edit Leave</title>
<script th:src="@{/js/leave.js}"></script>

</head>
<!-- <body onload="initMap()"> -->
<body>
<div layout:fragment="content">
<!-- <div class="row">
        <div class="col-md-6"> -->
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Edit an Leave</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
             <div class="col-md-10">
            <!-- form start -->
                   <form class="form-horizontal">
                    <div class="box-body"> 
                <div class="row"> 
               
               <div class="col-sm-6">
                <div class="form-group">
                  <label for="amount" class="col-sm-2 control-label">Employee Id</label>
                  <input type="hidden"  id="id"> 
                  <div class="col-sm-8">
                     <select class="form-control" id="employeeId" name="employeeId">
                  <option value=""> - - Select an Employee  - - </option>
                    <option th:each="emp : ${emp}" th:value="${emp.id}"
                            th:utext="${emp.username}" />
                  </select>
                  </div>
                </div>
                </div> 
                 <div class="col-sm-6">
                <div class="form-group">
                  <label for="amount" class="col-sm-2 control-label">Leave Type</label>                   
                  <div class="col-sm-8">
                   <select class="form-control" id="leaveType" name="leaveType">
                  <option value=""> - - Select Leave Type - - </option>
                   <option value="Earned Leave"> Earned Leave </option>
                   <option value="Casual Leave"> Casual Leave </option>
                   <option value="Sick Leave"> Sick Leave </option>
                   <option value="Leave Without Pay"> Leave Without Pay </option>
                   <option value="Maternity Leave"> Maternity Leave </option>
                   <option value="Paternity Leave"> Paternity Leave </option>
                   <option value="Special Leave"> Special Leave </option>
                   <option value="Compensatory Leave"> Compensatory Leave </option>
                  
                  </select>
                  </div>
                </div>
                </div>       
                 <div class="col-sm-6">
                <div class="form-group">
                  <label for="amount" class="col-sm-2 control-label">From Date</label>
                  <div class="col-sm-8">
                    <input type="date" class="form-control" id="fromDate" placeholder="From Date"/>
                  </div>
                </div>
                </div> 
                                
                  <div class="col-sm-6">
                <div class="form-group">
                  <label for="amount" class="col-sm-2 control-label">To Date</label>
                  <div class="col-sm-8">
                    <input type="date" class="form-control" id="toDate" placeholder="To Date"/>
                  </div>
                </div>
                </div> 
                 <div class="col-sm-6">
                <div class="form-group">
                  <label for="amount" class="col-sm-2 control-label">Comment</label>
                  
                  <div class="col-sm-8">
                    <input  class="form-control" id="comment" placeholder="Comment"/>
                  </div>
                </div>
                </div> 
                
               
              </div>
              </div>
              
              <div class="box-footer">
                <a class="btn btn-default" th:href="@{/admin/pendingLeave}">Cancel</a>
                <button onclick="submitPendingLeaveEditForm();" class="btn btn-info pull-right">Update</button>
              </div>
              <!-- /.box-footer -->
            </form>
          </div>
          
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      
<div layout:fragment="custom-scripts">
<script th:inline="javascript">
/*<![CDATA[*/
var baseurl=/*[[${baseurl}]]*/;
var id=/*[[${id}]]*/;

$(document).ready(function() {
    setBaseUrl(baseurl);
    getPendingLeave(id);
});

function changeStatus(id) {
    let url = baseurl+"/api/leave-ApprovedStatus/"+id;
    var msg = confirm("Are you sure you want to approved these leave?");
    
    if (msg){
           $.ajax({
              type: "PUT",
              url: url,
              contentType: 'application/json; charset=utf-8',
              dataType: "JSON",
              success: function (response) {
                  window.location.reload();
              },
              error: function () {
                  alert("error");
              }
          });  
    }
        
                 
} 
/*]]>*/
</script>
</div>
</body>
</html>