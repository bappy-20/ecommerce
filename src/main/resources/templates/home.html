<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/main}">
<head>
<meta charset="UTF-8">
<title>Home</title>
</head>
<body >
<div layout:fragment="content">
<div class="row">
        <div class="col-md-12">       
         <div class="row">
        <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-aqua"><i class="fa fa-shopping-cart"></i></span>

            <div class="info-box-content">
               <span style="font-weight: bold;" class="info-box-text">Sale</span>
              <span style="font-weight: normal;" class="info-box-number" th:text="'Today : '+${totalSaleToday}"></span>
               <span style="font-weight: normal;" class="info-box-number" th:text="'This Month : '+${totalSaleMonth}"></span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Total : '+${totalSale}"></span>
            </div>
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-red"><i class="fa fa-money"></i></span>

            <div class="info-box-content">
              <span style="font-weight: bold;" class="info-box-text">Purchase</span>
               <span style="font-weight: normal;" class="info-box-number" th:text="'Today : '+${totalPurchaseToday}"></span>
               <span style="font-weight: normal;" class="info-box-number" th:text="'This Month : '+${totalPurchaseMonth}"></span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Total : '+${totalPurchase}"></span>
            </div>
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->

        <!-- fix for small devices only -->
        <div class="clearfix visible-sm-block"></div>

        <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-green"><i class="fa fa-money"></i></span>
            <div class="info-box-content">
              <span style="font-weight: bold;"class="info-box-text">Due</span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Today : '+${totalDueToday}"></span>
               <span style="font-weight: normal;" class="info-box-number" th:text="'This Month : '+${totalDueMonth}"></span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Total : '+${totalDue}"></span>
            </div>
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-3 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-yellow"><i class="fa fa-calculator"></i></span>

            <div class="info-box-content">
              <span style="font-weight: bold;" class="info-box-text">Expense</span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Today : '+${totalExpToday}"></span>
               <span style="font-weight: normal;" class="info-box-number" th:text="'This Month : '+${totalExpMonth}"></span>
                <span style="font-weight: normal;" class="info-box-number" th:text="'Total : '+${totalExp}"></span>
            </div>
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
      </div>
          
         
      </div>

</div>

 
      <div class="row">
        <div class="col-md-6">
          <!-- AREA CHART -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Date Wise Total Sale</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <div class="box-body">
              <div class="chart">
                <canvas id="lineChart" style="height:250px"></canvas>
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->

         
        </div>
        <!-- /.col (LEFT) -->
        <div class="col-md-6">
          <!-- LINE CHART -->
          <div class="box box-success">
            <div class="box-header with-border">
              <h3 class="box-title"> Top Selling Products</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <div class="box-body">
              <div class="chart">
                <canvas id="barChart" style="height:230px"></canvas>
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->

          <!-- BAR CHART -->
         
          <!-- /.box -->

        </div>
        <!-- /.col (RIGHT) -->
      </div>
      <div class="row">
        <div class="col-md-12">
          <!-- AREA CHART -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Current location of all Employee</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <div class="box-body">
                <div id="map" style="width: 100%; height:310px;"></div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->

         
        </div>

      </div>
     <div class="row">

        <div class="col-md-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Employee Attendance</h3>
            </div>
         
            <div class="box-body">
         
             <table id="empTable" class="display" width="100%" cellspacing="0">

                <thead style="color: #111;">
                    <tr>
                        <th>Employee Id</th>
                                           
                        <th>In Time</th> 
                        <th>In Address</th> 
                        <th>Out Time</th>
                        <th>Out Address</th>  
                        <th>Status</th> 
                    </tr>
                </thead>

            </table> 
          
          </div>
         
        </div>
       
      </div>

</div> 
</div>
<div layout:fragment="custom-scripts">
<script th:src="@{/js/home.js}"></script>
<script th:src="@{/js/location.js}"></script>
<script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3hltsx8RJ8bOckcXkm9PjJbr05kNxtow"></script>
<script th:inline="javascript">
/*<![CDATA[*/
var baseurl=/*[[${baseurl}]]*/;
$(document).ready(function() {
    setBaseUrl(baseurl); 
    getTopSellingProduct();
    getallEmpLocation();
    getTodayAttendance();
    getSaleBydate();

});


/*]]>*/
</script>
</div>
</body>
</html>